extends ../layout

block content
    .container
        #notice_name.row
            // 게시판 명
            h5 &#xC790;&#xC720;&#xAC8C;&#xC2DC;&#xD310;
            a(href='/write')
                button.btn.btn-warning(type='button' style='display:relative; font-size:0.8rem; margin-left: 600px; ') 글쓰기
        .main_content(style='display: flex;')
            // 게시글
            table#table_id.table
                thead.thead-warning(style='background-color:#f2eba7 !important;')
                    tr
                        //th(scope='col') #
                        th(scope='col') 제목
                        th(scope='col') 글쓴이
                        th(scope='col') 날짜
                        th(scope='col') 댓글수
                        th(scope='col') 추천수
                tbody
                    if count === 0
                        tr
                            th.text-center(colspan=4) 게시글이 없습니다.
                    else
                        each post in posts
                            tr
                                //td #{post.id}
                                td
                                    a(href='/post/free/'+ post.id) #{post.title}
                                td #{post.user.nickname}
                                - let dateform = new Date(post.createdAt)
                                - moment.locale('ko');
                                // - let resultDate = moment(dateform).format('MMMM Do YYYY, h:mm:ss a');
                                - let resultDate = moment(dateform).startOf('hour').fromNow();
                                td #{resultDate}
                                td #{post.id}
                                td #{post.like}


        // 하단 페이지 이동바
        #page_move.paging_comm
            nav(aria-label='Page navigation example')
                ul.pagination.my
                    -console.log("start : "+ startPage + "   end: " + endPage + "   current : " + curPage + "   total : " + totalPage)
                    if startPage > totalPage
                        li.page-item
                            a.page-link(href=`/board/free/${startPage - 1}` aria-label='previous')
                                span(aria-hidden='true') &laquo;
                    else
                        li.page-item.disabled
                            a.page-link(aria-disabled='true' href='javascript:void(0);' aria-label='previous')
                                span(aria-hidden='true') &laquo;
                    -for (let i = startPage; i <= endPage; i++)
                        if i == curPage
                            li.page-item.active(aria-current='page')
                                a.page-link(href=`/board/free/${i}`)
                                    span=i
                        else
                            li.page-item(aria-current='page')
                                a.page-link.text-warning(href=`/board/free/${i}`)
                                    span=i
                    if endPage < totalPage
                        li.page-item
                            a.page-link(href=`/board/free/${endPage + 1}` aria-label='Next')
                                span(aria-hidden='true') &raquo;
                    else
                        li.page-item.disabled
                            a.page-link(href='javascript:void(0);' aria-label='Next')
                                span(aria-hidden='true') &raquo;

